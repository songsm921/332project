syntax = "proto3";

package distributed;


service Distributed{
  rpc getPartition (PartitionRequest) returns (PartitionResponse) {}
  rpc requestData (DataRequest) returns (DataResponse) {}
  rpc sendData (DataRequest) returns (DataResponse) {}
}

message PartitionRequest {
  bytes sampling = 1;
  int32 sizeOfData = 2;
}

message PartitionResponse {
  int32 machineNumber = 1;
  // i th standard will be the i th partition
  repeated bytes partitionStandard = 2;
}

message DataRequest {
  int32 machineNumber = 1;
  int32 partitionNumber = 2;
  int32 sizeOfData = 3;
  repeated bytes data = 4;
}

message DataResponse{
  int32 name = 1; // To be changed
}