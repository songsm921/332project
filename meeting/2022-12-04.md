# 2022-12-04

## Progress in Previous Week
Worker Structure Code를 바탕으로 한 각 Phase 완성 = Worker + Connection(gRPC) (5개의 Phase 중 3개의 Phase 완료 / 4번째 Phase 진행 중)

Test 방법 고안 및 Test Code 작성 (Incomplete)

## Goal of the Week
Final Week - Complete Implementation 

Test 방법 고안 및 Test Code 작성 
## Goal of the Week for each Member
송수민: Implemenation / Test Code 

임경빈: TODO  내꺼 복붙해도 되지 않을까???

염재후: Implement to force the execution sequence of Multi-client connection. Add protobuf and skeleton code following predefined program order.

## Progress of this week
### Sumin Song
 - Phase 1: Master의 Reply를 받은 Worker가 Phase 1: Fragementation을 진행하는 과정 확인 => Input Specification에 따르면 Input path가 directory인 것 확인, 수정 필요.
 - 동일 네트워크 망을 사용하여도 연결이 되지 않는 문제 해결 => Port Forwarding이 필요해 보이나, 제공 받은 Cluster 서버 사용으로 해결.
### Gyeongbhin Lim

 - gRPC connection between different machines (Done)
    - gRPC 라이브러리를 이용하여 서버와 클라이언트 구현. 
    - 로컬과 VM에서 각각 서버와 클라이언트 코드 실행. 로컬에서는 서버를 실행하고 VM 상에서 서버의 IP 주소와 포트 전달. 
    
    <br/>

    ![fig1](./Figure/kbini_1127_2.png) 

    <br/>

    - 정상적으로 연결 확인. 
    
    <br/>

 - Test running a method code implemented in Worker class (Done)

    <br/>

    -  Worker 클래스 내 송수민 부원이 구현한 fragmentation 메소드 코드 작성, 클라이언트 오브젝트를 실행시키면서 정상적으로 코드가 작동하는지 확인.
    - src/main/scala 디렉토리에 master와 worker를 구현한 network 패키지와 같은 계층으로 프로그램의 각 phase인 fragment, sorting, partition, balancing 등의 패키지 구조 구축
    - 코드를 테스트 해보기 위해 fragment 패키지에서 이미 구현 된 fragment class를 옮겨오고, worker class 파일에서 이를 참조하도록 함.
    - worker class에서 fragment에서 사용되는 함수 중 하나인 splitFile() 메소드를 override하고 worker object에 있는 main에서 메소드를 호출하였음.
    - 실행 결과 예상대로 지정한 경로를 따라 genLarge 파일을 분할 후 partition.1과 partition.2 파일이 생성되었음. 

    <br/>

    ![fig1](./Figure/kbini_1127_1.png) 

    <br/>

    - 이를 응용하여 프로그램 구현에 필요한 메소드들을 같은 방식으로 추가할 예정. <br/>

### Jaehu Yeom
 
 남은 Message define 완료.
 - blocking stub with 
 - Enumeration 추가(for Phase)
 - CountDownLatch를 통한 Master의 Control을 Flow하도록 설계
 - Psuedocode 

